
<div class="mx-auto">
  <div class="table-responsive">
    <table
      class="table table-bordered table-responsive-sm table-responsive-md table-responsive-lg"
    >
      <thead>
        <tr>
          <th class="text-center">Sl/no.</th>
          <th *ngFor="let items of cols" scope="col">{{items.header}}</th>
          <th class="text-center" scope="col">Actions</th>
        </tr>
      </thead>
      <tbody *ngIf="preLoader">
        <tr>
          <td colspan="17">
            <div class="no-data my-4 text-center">
              <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
            </div>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="noData && !preLoader">
        <tr>
          <td colspan="17">
            <div class="no-data my-4 text-center">
              <p class="nodata-msg">No users added yet!</p>
              <!-- <a routerLink="/register-userList" class="btn btn-success"> Add userList </a> -->
            </div>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="hideWhenNouserList">
        <tr 
          *ngFor="
            let user of userList
              | paginate: { itemsPerPage: 8, currentPage: p };
            let i = index
          "
        >
          <!-- <th scope="row">{{ user.email }}</th> -->
          <td class="text-center">{{ i + 1 }}</td>
          <td>{{ user.fullName }}</td>
          <td>{{ user.fatherName }}</td>
          <td>{{ user.email }}</td>
          <td class="text-center">{{ user.mobileNumber }}</td>

          <td>{{ user.selectedDoc }}</td>
          <td>{{ user.currentOwnerName }}</td>
          <td>{{ user.currentOwnerAddress }}</td>
          <td class="text-center">{{ user.currentOwnerAge }}</td>

          <td class="text-center">{{ user.currentOwnergender }}</td>
          <td>{{ user.selectBuyerRelation }}</td>
          <td>{{ user.buyerName }}</td>
          <td>{{ user.buyerAddress }}</td>
          <td class="text-center">{{ user.buyerAge }}</td>
          <td class="text-center">{{ user.selectedBuyGender }}</td>
          <td >
            <span
              class="mx-2 btn btn-outline-primary btn-sm"
              (click)="showDocuments(user.selectedDocuments, user.fullName)"
              >View Documents</span
            >
          </td>

          <td class="text-center action-block">
            <span
              class="mx-2 btn btn-outline-primary btn-sm"
              routerLink="/edit-userList/{{ user.fullName}}"
              >Edit</span
            >
            <span
              class="btn btn-outline-danger btn-sm"
              (click)="deleteUsers(user)"
              >Delete</span
            >
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="my-2">
    <pagination-controls (pageChange)="p = $event" class="w-100 text-center" *ngIf="!noData"></pagination-controls>
  </div>
</div>
<p-dialog [(visible)]="showDocDialog" (onHide)="hideDocDialog">
  <ng-template pTemplate="header">
    <label>View Documents of {{dialogHeader}}</label>
  </ng-template>
  <div class="container-fluid doc-show-dialog">
    <div class="row">
      <div class="col-md-6 col-lg-4" *ngFor="let item of dialogDoc">
        <div class="p-2 border doc-images"><img src="{{item}}" alt="{{item}}" title="{{item}}"/></div>
      </div>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <!-- <span
    class="mx-2 btn btn-outline-primary btn-sm"
    >Edit</span
  > -->
  <span
    class="btn btn-outline-danger btn-sm"
    (click)="hideDocDialog()"
    >Close</span
  >
  </ng-template>
</p-dialog>